<meta charset="utf-8" emacsmode="-*- markdown -*-">
<script src="../js/viewport-script.js" type="text/javascript" charset="utf-8">
apply_viewport();
</script>

<meta id="viewport" name="viewport">

                            **Neovim Basics**

Neovim is a practical and fast text editor for a keyboard centric development. It has plenty of plugins and it is highly customizable.


[Home](../index.md.html)

Installation and Basic Usage
==================================================
You can either install from the pre-built packages available for your platform on [Neovim Releases page](https://github.com/neovim/neovim/releases/) or choose to install from source via the instructions on [Neovim github page](https://github.com/neovim/neovim?tab=readme-ov-file#install-from-source). 
Then execute Neovim application to see the following welcome screen.

![Neovim welcome screen](../neovim1.png "Neovim welcome screen")

Press I to go to the Insert Mode and begin typing just like any other text editor. 

![Basic editing](../neovim2.png "Basic editing")

Per Neovim documentation "A buffer is a file loaded into memory for editing." There can be multiple buffers at the same time.
To see available buffers list run buffers command and you will see the only available buffer which is the one we edited above.

![Available buffers](../neovim3.png "Displaying buffers list")

As you can see in buffers list our buffer does not have a file name yet. We can give it a file name using the file command.

![Naming a buffer](../neovim4.png "Set the current file name for the buffer")

Note that we haven't saved any file yet, so there is no hello.txt in our current working directory. Until we execute the write command (or w for short).

![Writing a file](../neovim5.png "Set the current file name for the buffer")

You can go back and forth between Insert Mode (by pressing I) and Normal Mode (by pressing Esc).
Commands are executed in Normal Mode. Press Esc to go back to the Normal mode and quit Neovim typing the quit command (or q for short). 
To reopen the file we just saved you can give the file name as a parameter to nvim command (either in your Linux terminal or Windows command line).

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nvim hello.txt
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


Configuation
==================================================

Run the following command in Normal Mode to see the Neovim configuration directory for your platform. 
It is usually ~/.config/nvim for Linux and ~\AppData\Local\nvim for Windows. We will mention it as <CONFIG_DIR> from here on.

![displaying config path](../neovim6.png "Displaying configuration path for Neovim")


A plugin manager is needed to be able to install plugins and these plugins are the way to configure Neovim. 
[lazy.nvim](https://lazy.folke.io/) is the recommended plugin manager. Packer was popular before but it is no longer maintained. 
As you can find in the [documentation](https://lazy.folke.io/installation) there are two options while installing lazy.nvim; structured vs single file (everything in init.lua file).
We will do a basic setup putting a single init.lua file under the configuration directory. 
So create init.lua file under <CONFIG_DIR>/init.lua with the following contents.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ lua
  -- Bootstrap lazy.nvim
local lazypath = vim.fn.stdpath("data") .. "/lazy/lazy.nvim"
if not (vim.uv or vim.loop).fs_stat(lazypath) then
  local lazyrepo = "https://github.com/folke/lazy.nvim.git"
  local out = vim.fn.system({ "git", "clone", "--filter=blob:none", "--branch=stable", lazyrepo, lazypath })
  if vim.v.shell_error ~= 0 then
    vim.api.nvim_echo({
      { "Failed to clone lazy.nvim:\n", "ErrorMsg" },
      { out, "WarningMsg" },
      { "\nPress any key to exit..." },
    }, true, {})
    vim.fn.getchar()
    os.exit(1)
  end
end
vim.opt.rtp:prepend(lazypath)

-- Make sure to setup `mapleader` and `maplocalleader` before
-- loading lazy.nvim so that mappings are correct.
-- This is also a good place to setup other settings (vim.opt)
vim.g.mapleader = " "
vim.g.maplocalleader = "\\"

-- Setup lazy.nvim
require("lazy").setup({
  spec = {
    -- add your plugins here
  },
  -- Configure any other settings here. See the documentation for more details.
  -- colorscheme that will be used when installing plugins.
  install = { colorscheme = { "habamax" } },
  -- automatically check for plugin updates
  checker = { enabled = true },
})
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Further Configuration and Add New Plugins
==================================================

Add New plugins
----------------------------------

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ lua
-- disable netrw at the very start of your init.lua
vim.g.loaded_netrw = 1
vim.g.loaded_netrwPlugin = 1

-- optionally enable 24-bit colour
vim.opt.termguicolors = true

vim.cmd("set expandtab")
vim.cmd("set tabstop=2")
vim.cmd("set softtabstop=2")
vim.cmd("set shiftwidth=2")
vim.g.mapleader = " "

vim.api.nvim_set_option("clipboard", "unnamed")

local lazypath = vim.fn.stdpath("data") .. "/lazy/lazy.nvim"

vim.opt.rtp:prepend(lazypath)

local plugins = {
  { dir = "/home/dev/.config/nvim-data/lazy/tokyonight.nvim", name = "tokyonight", priority = 1000 },

  {
    dir = "/home/dev/.config/nvim-data/lazy/telescope.nvim", tag = '0.1.5', dependencies = { dir = "/home/dev/.config/nvim-data/lazy/plenary.nvim" }
  },

  { dir = "/home/dev/.config/nvim-data/lazy/nvim-treesitter", build = ":TSUpdate" },

  { dir = "/home/dev/.config/nvim-data/lazy/nvim-tree.lua" },

  { dir = "/home/dev/.config/nvim-data/lazy/telescope-fzf-native.nvim", build = 'cmake -S. -Bbuild -DCMAKE_BUILD_TYPE=Release && cmake --build build --config Release' }

}

local opts = {}

require("lazy").setup(plugins, opts)

local builtin = require("telescope.builtin")
vim.keymap.set('n', '<leader>ff', builtin.find_files, { desc = 'Telescope find files' })
vim.keymap.set('n', '<leader>fg', builtin.live_grep, { desc = 'Telescope live grep' })
vim.keymap.set('n', '<leader>fb', builtin.buffers, { desc = 'Telescope buffers' })
vim.keymap.set('n', '<leader>fh', builtin.help_tags, { desc = 'Telescope help tags' })

local telescope = require("telescope")
telescope.setup({
	pickers = {
		live_grep = {
			file_ignore_patterns = { 'node_modules', '.git', '.venv' },
			additional_args = function(_)
				return {"--hidden"}
			end
		},
	
		find_files = {
			file_ignore_patterns = { '.git', '.venv' },
			hidden = true
		}
	},
})

-- empty setup using defaults
require("nvim-tree").setup()

local api = require("nvim-tree.api")
vim.keymap.set('n', '<C-g>', api.tree.focus, {})
vim.keymap.set('n', '<C-h>', api.tree.find_file, {})
vim.keymap.set('n', '<C-c>', ':!build.bat<CR>', {})
vim.keymap.set('n', '<C-e>', ':!build\\win32_handmade.exe<CR>', {})
	
-- set color scheme to tokyonight at start
vim.cmd[[colorscheme tokyonight]]

vim.keymap.set('n', '<space>st', function()
	vim.cmd.vnew()
	vim.cmd.term()
  vim.cmd.wincmd("J")
	vim.api.nvim_win_set_height(0, 10)
end)

vim.keymap.set('n', 'gn', function()
	vim.cmd.bnext()
end)
vim.keymap.set('n', 'gp', function()
	vim.cmd.bprevious()
end)
vim.keymap.set('n', 'gd', function()
	vim.cmd.bdelete()
end)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


Some important key bindings:
-------------------------------

<kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>Space</kbd>


nvim-tree : Change focus <kbd>Ctrl</kbd> + <kbd>W</kbd> + <kbd>W</kbd>

neo terminal: Back to Normal mode <kbd>Ctrl</kbd> + <kbd>\</kbd> + <kbd>N</kbd>


                      ---

_Information about the author, copyright, and other information_


<br>
<br>
[Home](../index.md.html)
<br>
<br>
<a href="https://www.buymeacoffee.com/anthracitelabs" target="_blank"><img src="https://cdn.buymeacoffee.com/buttons/default-orange.png" alt="Buy Me A Coffee" height="41" width="174"></a>




<script>markdeepOptions = {tocStyle: 'none'};</script>
<!-- Markdeep: --><style class="fallback">body{visibility:hidden;white-space:pre;font-family:monospace}</style>
<script src="../js/markdeep.min.js?" charset="utf-8"></script><script>window.alreadyProcessedMarkdeep||(document.body.style.visibility="visible")</script>

